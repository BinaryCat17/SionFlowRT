# SionFlowRT

Высокопроизводительный компилятор математических графов на Rust. Преобразует описания вычислений в оптимизированный C-код с поддержкой параллелизма.

## Ключевые особенности

- **Graph-based IR:** Вычисления представляются в виде направленного ациклического графа (DAG).
- **Unified Tensor Model:** В системе всё является тензором. Скаляры — это тензоры ранга 0.
- **Stride-based Indexing:** Профессиональный механизм индексации, позволяющий реализовать Broadcasting и представления без копирования данных.
- **Loop Fusion:** Автоматическое объединение последовательных операций с совместимыми формами в единые блоки циклов для максимизации попадания в кэш CPU.
- **Parallel CPU Backend:** Генерация C-кода с использованием OpenMP для автоматического распараллеливания вычислений на все ядра процессора.

## Структура проекта

- `src/model.rs` — Модель данных (Тензоры, Операции, Граф).
- `src/compiler.rs` — Построитель графа и топологический планировщик.
- `src/codegen_c.rs` — Генератор C-кода на базе шаблонов Tera.
- `assets/` — Входные JSON-файлы с описанием графов.
- `templates/` — Шаблоны для генерации кода.

## Быстрый старт

1. Поместите описание вашего графа в `assets/example_graph.json`.
2. Запустите компилятор:
   ```bash
   cargo run
   ```
3. Сгенерированный код появится в `generated/generated.c`, а бинарный файл — в `out/generated_bin`.

---
Подробный план развития проекта см. в [docs/roadmap.md](docs/roadmap.md).
