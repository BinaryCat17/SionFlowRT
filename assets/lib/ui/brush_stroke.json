{
  "imports": {
    "math": "assets/lib/math"
  },
  "inputs": [
    { "name": "dist", "dtype": "float", "shape": ["..."] },
    { "name": "radius", "dtype": "float", "shape": ["..."] },
    { "name": "color", "dtype": "float", "shape": ["..."] },
    { "name": "is_active", "dtype": "float", "shape": ["..."] }
  ],
  "outputs": [
    { "name": "output", "dtype": "float", "shape": ["..."] }
  ],
  "nodes": [
    { "id": "inv_dist", "op": "Sub" },
    { "id": "scale_val", "op": { "Constant": { "values": [1000.0] } } },
    { "id": "scaled_dist", "op": "Mul" },
    { "id": "zero", "op": { "Constant": { "values": [0.0] } } },
    { "id": "one", "op": { "Constant": { "values": [1.0] } } },
    { "id": "mask", "subgraph": "math/clamp" },
    { "id": "active_mask", "op": "Mul" },
    { "id": "active_mask_3d", "op": { "Reshape": { "new_shape": ["...", 1] } } },
    { "id": "colored_output", "op": "Mul" }
  ],
  "links": [
    ["inputs.radius", "inv_dist.left"], ["inputs.dist", "inv_dist.right"],
    ["inv_dist.output", "scaled_dist.left"], ["scale_val.output", "scaled_dist.right"],
    ["scaled_dist.output", "mask.input"], ["zero.output", "mask.min"], ["one.output", "mask.max"],
    ["mask.output", "active_mask.left"], ["inputs.is_active", "active_mask.right"],
    ["active_mask.output", "active_mask_3d.input"],
    ["inputs.color", "colored_output.left"], ["active_mask_3d.output", "colored_output.right"],
    ["colored_output.output", "outputs.output"]
  ]
}