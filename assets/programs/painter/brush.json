{
  "imports": {
    "math": "assets/lib/math",
    "sdf": "assets/lib/sdf",
    "ui": "assets/lib/ui"
  },
  "inputs": [
    { "name": "uv", "dtype": "float", "shape": ["...", 2] },
    { "name": "mouse_raw", "dtype": "float", "shape": [2] },
    { "name": "mouse_prev_raw", "dtype": "float", "shape": [2] },
    { "name": "is_drawing", "dtype": "float", "shape": [1] }
  ],
  "outputs": [
    { "name": "output_node", "dtype": "float", "shape": ["...", 4] }
  ],
  "nodes": [
    { "id": "mouse", "op": { "Reshape": { "new_shape": [1, 1, 2] } } },
    { "id": "mouse_prev", "op": { "Reshape": { "new_shape": [1, 1, 2] } } },
    { "id": "line_dist", "subgraph": "sdf/line" },
    { "id": "radius", "op": { "Constant": { "values": [0.005] } } },
    { "id": "color", "op": { "Constant": { "values": [1.0, 0.5, 0.2, 1.0] } } },
    { "id": "stroke", "subgraph": "ui/brush_stroke" }
  ],
  "links": [
    ["inputs.mouse_raw", "mouse.input"],
    ["inputs.mouse_prev_raw", "mouse_prev.input"],
    ["inputs.uv", "line_dist.uv"],
    ["mouse_prev.output", "line_dist.a"],
    ["mouse.output", "line_dist.b"],
    ["line_dist.output", "stroke.dist"],
    ["radius.output", "stroke.radius"],
    ["color.output", "stroke.color"],
    ["inputs.is_drawing", "stroke.is_active"],
    ["stroke.output", "outputs.output_node"]
  ]
}